<section>
    VmInclude:__COMPONENT__/toolbar/back_save.html
</section>
<section class="w3s">

    <form id=F__ID class="w3-padding-0 w3-margin-0 ">
          <div class="w3-container w3-quarter"></div>
          <div class="w3-container w3-padding w3-grey w3-half w3-center">
            <h2>Restorative Sleep Questionnaire (Weekly Version)</h2>
            </div>

            <div class="w3-container w3-padding w3-content w3-medium ">
            </div>

            <div class="w3-container w3-content w3-row ">
            <div  class="w3-container">
            <div class="w3-container  w3-half" id=tr_participant__ID style='display:none' data-id=Participant data-custom=1>
            <input class="w3-input" name=Participant  id=Participant__ID  type=text placeholder='select a partcipant...' />
            </div>
            <div class="w3-container w3-quarter w3-padding-24">
            <input class="w3-border-0 w3-text-grey w3-center" name=Participant_uid id=Participant_uid__ID type=text readonly  />
            </div>
                <div class="w3-container w3-quarter">
                <u  class="w3-btn w3-white " id=Participant_r__ID>Remove</u>
            </div>
            </div>

                <div class=" w3-container w3-padding" >

                    <!--hr style="border-top:5px solid #888;"-->
                </div>

                      <!-- Questions start here-->

                    <div class=" w3-border w3-border-dark-grey w3-bottombar">
                          <div  class="w3-padding">
                            The following questions ask about how you felt when you woke up and started the day during the past <b>7 DAYS</b>.When answering the questions think of how you felt about thirty minutes after getting out of bed to start the day. For each question below, please circle the number that best indciates how you feel (circle only one number for each question).
                          </div>
                          <div  class="w3-container" style='min-width:500px'>
                            <div  class="w3-container w3-padding">
                              <table class='w3-table w3-centered'>
                                <colgroup><col></col><col style='width:70px'></col><col style='width:70px'></col><col style='width:70px'></col><col style='width:70px'></col><col style='width:70px'></col><col style='width:70px'></col></colgroup>
                                <tr><td></td><td>Not at all</td><td>A Little bit</td><td>Some</td><td>Very Much</td><td>Very Much</td></tr>
                                <tr data-id=RSQW_1 data-custom=1 ><td class=w3-left-align>1.Tired </td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_1" value="5" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_1" value="4" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_1" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_1" value="2" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_1" value="1" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_2 data-custom=1 ><td class=w3-left-align>2.Sleepy?</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_2" value="5" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_2" value="4" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_2" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_2" value="2" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_2" value="1" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_3 data-custom=1 ><td class=w3-left-align>3.in a good mood?</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_3" value="1" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_3" value="2" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_3" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_3" value="4" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_3" value="5" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_4 data-custom=1 ><td class=w3-left-align>4.Rested</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_4" value="1" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_4" value="2" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_4" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_4" value="4" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_4" value="5" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_5 data-custom=1 ><td class=w3-left-align>5.Refreshed or restored?</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_5" value="1" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_5" value="2" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_5" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_5" value="4" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_5" value="5" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_6 data-custom=1 ><td class=w3-left-align>6.Ready to start the day? </td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_6" value="1" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_6" value="2" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_6" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_6" value="4" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_6" value="5" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_7 data-custom=1 ><td class=w3-left-align>7.Energetic?</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_7" value="1" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_7" value="2" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_7" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_7" value="4" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_7" value="5" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_8 data-custom=1 ><td class=w3-left-align>8.Mentally Alert?</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_8" value="1" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_8" value="2" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_8" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_8" value="4" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_8" value="5" \> 5</td>

                                </tr>
                                <tr data-id=RSQW_9 data-custom=1 ><td class=w3-left-align>9.Grouchy?</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_9" value="5" \> 1</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_9" value="4" \> 2</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_9" value="3" \> 3</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_9" value="2" \> 4</td>
                                  <td><input class="w3-radio" type="radio" name="RSQW_9" value="1" \> 5</td>
                                </tr>
                              </table>
                            </div>
                          </div>
                        </div>


                          <div class="w3-container" >
                            <!--hr style="border-top:5px solid #888;"-->
                          </div>
                          <br>
                        </div>

                        <div id=toolbar__ID>
                          <a id=save2__ID class=save_and_back__ID >Save & Back</a> <span class=tab__ID></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
                    </div>
                </div>
              </div>
</section>
<script>
function F__ID(){
    //----------------------------------
    VmInclude:__COMPONENT__/grid/form.js
    VmInclude:__HOST__/common-code/participant.js
    VmInclude:__COMPONENT__/style/ease-in-out.js

    //----------------------------------
    $('#D__ID').on('load',function(){
        _init();
        _field_process();
        _task_fields=$vm.vm['__ID'].op.grid_to_form_parameters.task_fields;
        _set_participant_field();
        custom_field_process();
    })
    //----------------------------------
    var custom_field_process=function(){
        $('#F__ID div[data-custom=1],tr[data-custom=1]').each(function(){
            var field=$(this).attr('data-id');
            switch(field){
                case "Participant":
                    $(this).find("input[name='"+field+"']").val(_records[I].Participant);
                    $(this).find("input[name='"+field+"_uid']").val(_records[I].Participant_uid);
                break;
                case "RSQW_1":
                case "RSQW_2":
                case "RSQW_3":
                case "RSQW_4":
                case "RSQW_5":
                case "RSQW_6":
                case "RSQW_7":
                case "RSQW_8":
                case "RSQW_9":
                    $('#F__ID').find("input[name='"+field+"'][value='"+_records[I][field]+"']").prop('checked', true);
                    $('#F__ID').find("input[name='"+field+"']").on('click',function(){
                        _set_value(this.value,_records,I,field);
                    })
                break;
            }
        })
    }
    //----------------------------------
    //----------------------------------
    _before_submit_form=function(){
        if( $('#F__ID').find('input[name=RSQW_1]:checked').val()===undefined){ $vm.alert('Please answer question 1'); return false; }
        if( $('#F__ID').find('input[name=RSQW_2]:checked').val()===undefined){ $vm.alert('Please answer question 2'); return false; }
        if( $('#F__ID').find('input[name=RSQW_3]:checked').val()===undefined){ $vm.alert('Please answer question 3'); return false; }
        if( $('#F__ID').find('input[name=RSQW_4]:checked').val()===undefined){ $vm.alert('Please answer question 4'); return false; }
        if( $('#F__ID').find('input[name=RSQW_5]:checked').val()===undefined){ $vm.alert('Please answer question 5'); return false; }
        if( $('#F__ID').find('input[name=RSQW_6]:checked').val()===undefined){ $vm.alert('Please answer question 6'); return false; }
        if( $('#F__ID').find('input[name=RSQW_7]:checked').val()===undefined){ $vm.alert('Please answer question 7'); return false; }
        if( $('#F__ID').find('input[name=RSQW_8]:checked').val()===undefined){ $vm.alert('Please answer question 8'); return false; }
        if( $('#F__ID').find('input[name=RSQW_9]:checked').val()===undefined){ $vm.alert('Please answer question 9'); return false; }

        var v1=parseInt($('#tb__ID').find('input[name=RSQW_1]:checked').val());
        var v2=parseInt($('#tb__ID').find('input[name=RSQW_2]:checked').val());
        var v3=parseInt($('#tb__ID').find('input[name=RSQW_3]:checked').val());
        var v4=parseInt($('#tb__ID').find('input[name=RSQW_4]:checked').val());
        var v5=parseInt($('#tb__ID').find('input[name=RSQW_5]:checked').val());
        var v6=parseInt($('#tb__ID').find('input[name=RSQW_6]:checked').val());
        var v7=parseInt($('#tb__ID').find('input[name=RSQW_7]:checked').val());
        var v8=parseInt($('#tb__ID').find('input[name=RSQW_8]:checked').val());
        var v9=parseInt($('#tb__ID').find('input[name=RSQW_9]:checked').val());

        var v10 = v1+v2+v3+v4+v5+v6+v7+v8+v9
        _record[I].RSQW_AVG = v10
        var v11 = [(v10 - 1) * 25]
        _record[I].RSQW_TOTAL = v11
</script>
<style>
VmInclude:__BASE__/vmiis/module-library/clinical_trials_questionnaire/css/w3.css
VmInclude:__COMPONENT__/toolbar/toolbar.css
VmInclude:__COMPONENT__/grid/form.css
</style>
